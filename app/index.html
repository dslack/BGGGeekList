<!DOCTYPE html>
<html lang="en" ng-app="BGGGeekListApp">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Latest compiled and minified CSS -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.9.3/lodash.js"></script>
  
    <script src="js/lib.js"></script>
	<link rel="stylesheet" href="css/lib.css" />

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <script src="bgg.wiki.js"></script>
    <script src="app.js"></script>
	<link rel="stylesheet" href="app.css">
    <title>BGG Geek List - GenCon 2015</title>
</head>
<body>
	<div class="page-header">
  		<h1>BGG Geek List Reader <small>Gencon 2015</small></h1>
	</div>
	<div bgg-list>
	</div>
	<footer>
		<p class="text-center">Data retrieved from the <a href="https://boardgamegeek.com/wiki/page/BGG_XML_API">BoardGameGeek XML API</a></p>
	</footer>

	<script type="text/ng-template" id="list.html">
		<form class="well well-sm">
			<p class="small">Refreshed on <span class="label label-default">{{vm.refreshed | date: "dd-MMM-yyyy hh:mm a"}}</span></p>
			<div class="form-group">
				<label for="gameName">Name:</label>
				<input type="text" class="form-control" ng-model="gameName" id="gameName" placeholder="Name, e.g. Agricola"/>
			</div>
<!--			<div class="form-group">
				<label for="editedDate">Last Edited (and newer)</label>
                <div class='input-group date' id='datetimepicker1'>
                	
                    <input type='text' class="form-control" ng-model="lastEdited" placeholder="Last time the item was edited"/>
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar" ng-click="vm.showDatePicker()"></span>
                    </span>
                </div>
            </div>-->
		</form>
		<div class="list-group">
			<div class="list-group-item" ng-repeat="item in vm.results track by item.objectid" >
				<h4 class="list-group-item-heading"><a href="https://boardgamegeek.com/{{item.subtype}}/{{item.objectid}}">{{item.objectname}}</a></h4>
				<p class="list-group-item-text small"><em>Updated On {{item.postdate | date: 'dd-MMM-yyyy hh:mm a'}}</em></p>

				<h5 class="list-group-item-heading" designers game="item"></h5>
				<h5 class="list-group-item-heading" publishers game="item"></h5>

				<p class="list-group-item-text spacer" read-more game="item"></p>
				<p class="list-group-item-text">
					<wiki-convert text="item.body[0]"></wiki-convert>
				</p>
			</div>
		</div>
	</script>

	<script type="text/ng-template" id="readmore.html">
		<div ng-if="!vm.showMore" class="show-more">
		<div class=""><span ng-bind-html="vm.descriptionShort"></span> <a role="button" ng-click="vm.readMore()" ng-if="vm.shortened"> Read More </a></div>
			</div>
			<div ng-if="vm.showMore">
				<div class=""><span ng-bind-html="vm.description"></span> <a role="button" ng-click="vm.readLess()">Read Less</a></div>
			</div>	
	</script>
</body>	
</html>